/* Tailwind CSS imports */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===========================================
   Base Styles - Optimized for 55+ Users
   =========================================== */

@layer base {
  /* Root variables for easy theming */
  :root {
    --color-primary: #1e3a5f;
    --color-secondary: #D4A574;
    --color-background: #FDF8F3;
    --color-text: #1a1a1a;
    --color-text-light: #4a4a4a;
  }

  /* Base HTML styles */
  html {
    font-size: 18px; /* Larger base for accessibility */
    scroll-behavior: smooth;
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
  }

  body {
    @apply bg-scripture-cream text-gray-900 antialiased;
    font-family: Georgia, Cambria, 'Times New Roman', serif;
    line-height: 1.75;
  }

  /* Headings - Clear and readable */
  h1, h2, h3, h4, h5, h6 {
    @apply font-display font-semibold text-scripture-navy;
    line-height: 1.3;
  }

  h1 { @apply text-4xl mb-6; }
  h2 { @apply text-3xl mb-5; }
  h3 { @apply text-2xl mb-4; }
  h4 { @apply text-xl mb-3; }

  /* Links - High contrast, clear hover state */
  a {
    @apply text-scripture-navy underline;
    text-underline-offset: 3px;
  }

  a:hover {
    @apply text-primary-600;
  }

  /* Focus states for accessibility */
  *:focus {
    @apply outline-none ring-2 ring-primary-500 ring-offset-2;
  }

  /* Buttons focus */
  button:focus,
  [role="button"]:focus {
    @apply ring-2 ring-primary-500 ring-offset-2;
  }
}

/* ===========================================
   Component Styles
   =========================================== */

@layer components {
  /* Primary button - Large and easy to click */
  .btn-primary {
    @apply inline-flex items-center justify-center px-8 py-4 
           bg-scripture-navy text-white text-lg font-medium 
           rounded-xl shadow-soft transition-all duration-200
           hover:bg-primary-700 hover:shadow-medium
           focus:ring-2 focus:ring-primary-500 focus:ring-offset-2
           disabled:opacity-50 disabled:cursor-not-allowed;
    min-height: 56px; /* Easy to tap */
  }

  /* Secondary button */
  .btn-secondary {
    @apply inline-flex items-center justify-center px-8 py-4 
           bg-white text-scripture-navy text-lg font-medium 
           border-2 border-scripture-navy rounded-xl shadow-soft 
           transition-all duration-200
           hover:bg-gray-50 hover:shadow-medium
           focus:ring-2 focus:ring-primary-500 focus:ring-offset-2
           disabled:opacity-50 disabled:cursor-not-allowed;
    min-height: 56px;
  }

  /* Text button */
  .btn-text {
    @apply inline-flex items-center justify-center px-4 py-2 
           text-scripture-navy text-lg font-medium 
           rounded-lg transition-colors
           hover:bg-gray-100
           focus:ring-2 focus:ring-primary-500;
  }

  /* Form inputs - Large and accessible */
  .input {
    @apply w-full px-5 py-4 text-lg 
           bg-white border-2 border-gray-300 rounded-xl
           transition-colors duration-200
           placeholder:text-gray-400
           hover:border-gray-400
           focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20;
    min-height: 56px;
  }

  .input-error {
    @apply border-red-500 focus:border-red-500 focus:ring-red-500/20;
  }

  /* Labels */
  .label {
    @apply block text-lg font-medium text-gray-700 mb-2;
  }

  /* Error message */
  .error-text {
    @apply text-red-600 text-base mt-2;
  }

  /* Card component */
  .card {
    @apply bg-white rounded-2xl shadow-soft p-6 md:p-8;
  }

  /* Chat bubble - User */
  .chat-bubble-user {
    @apply bg-scripture-navy text-white rounded-2xl rounded-br-md 
           px-6 py-4 max-w-[85%] ml-auto shadow-soft;
  }

  /* Chat bubble - Assistant */
  .chat-bubble-assistant {
    @apply bg-white text-gray-900 rounded-2xl rounded-bl-md 
           px-6 py-4 max-w-[85%] mr-auto shadow-soft border border-gray-100;
  }

  /* Bible verse highlight */
  .verse-highlight {
    @apply bg-scripture-gold/20 border-l-4 border-scripture-gold 
           px-4 py-3 my-4 rounded-r-lg italic;
  }

  /* Navigation link */
  .nav-link {
    @apply text-lg text-gray-700 px-4 py-2 rounded-lg
           transition-colors hover:bg-gray-100 hover:text-scripture-navy;
  }

  .nav-link-active {
    @apply bg-scripture-navy/10 text-scripture-navy font-medium;
  }

  /* Sidebar item */
  .sidebar-item {
    @apply w-full text-left px-4 py-3 rounded-lg text-base
           text-gray-700 transition-colors
           hover:bg-gray-100 truncate;
  }

  .sidebar-item-active {
    @apply bg-scripture-gold/20 text-scripture-navy font-medium;
  }
}

/* ===========================================
   Utility Classes
   =========================================== */

@layer utilities {
  /* Screen reader only */
  .sr-only {
    @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
    clip: rect(0, 0, 0, 0);
  }

  /* Skip link for accessibility */
  .skip-link {
    @apply sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 
           focus:z-50 focus:px-4 focus:py-2 focus:bg-white focus:text-scripture-navy 
           focus:rounded-lg focus:shadow-lg;
  }

  /* High contrast text */
  .text-high-contrast {
    color: #000000;
  }

  /* Loading animation */
  .loading-dots::after {
    content: '';
    animation: dots 1.5s steps(4, end) infinite;
  }

  @keyframes dots {
    0%, 20% { content: ''; }
    40% { content: '.'; }
    60% { content: '..'; }
    80%, 100% { content: '...'; }
  }
}

/* ===========================================
   Edge Browser Specific Fixes
   =========================================== */

/* Fix for Edge's CSS filter issues */
@supports (-ms-ime-align: auto) {
  .shadow-soft {
    box-shadow: 0 4px 14px 0 rgba(0, 0, 0, 0.08);
  }
}

/* Edge/IE scrollbar styling */
@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
  ::-webkit-scrollbar {
    width: 12px;
  }
  
  ::-webkit-scrollbar-track {
    background: #f1f1f1;
  }
  
  ::-webkit-scrollbar-thumb {
    background: #D4A574;
    border-radius: 6px;
  }
}

/* Custom scrollbar for modern browsers */
::-webkit-scrollbar {
  width: 10px;
}

::-webkit-scrollbar-track {
  @apply bg-gray-100;
}

::-webkit-scrollbar-thumb {
  @apply bg-scripture-gold rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-scripture-brown;
}

/* ===========================================
   Print Styles
   =========================================== */

@media print {
  body {
    font-size: 12pt;
    line-height: 1.5;
    color: black;
    background: white;
  }

  .no-print {
    display: none !important;
  }

  .chat-bubble-user,
  .chat-bubble-assistant {
    box-shadow: none;
    border: 1px solid #ccc;
  }
}
